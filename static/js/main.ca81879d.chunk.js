(this.webpackJsonppandemic_simulator=this.webpackJsonppandemic_simulator||[]).push([[0],{204:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(23),c=n.n(r),s=(n(91),n(5)),l=n(11),o=n(222),d=n(226),u=n(225),b=n(224),j=n(14),g=(n(92),n.p+"static/media/circle.0772d047.png"),f=n(44),h=n(2);function p(){var e=Object(a.useState)(52),t=Object(l.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(0),c=Object(l.a)(r,2),p=c[0],O=c[1],x=Object(a.useState)(2),m=Object(l.a)(x,2),y=m[0],v=m[1],w=Object(a.useState)(20),C=Object(l.a)(w,2),I=C[0],S=C[1],B=Object(a.useState)([]),k=Object(l.a)(B,2),D=k[0],E=k[1],F=Object(a.useState)(!1),L=Object(l.a)(F,2),M=L[0],R=L[1],P=Object(a.useState)(0),T=Object(l.a)(P,2),A=T[0],z=T[1],J=Object(a.useState)(0),_=Object(l.a)(J,2),q=_[0],N=(_[1],Object(a.useState)([])),W=Object(l.a)(N,2),X=W[0],Y=W[1],Z=Object(a.useState)([]),G=Object(l.a)(Z,2),H=G[0],K=G[1],Q=Object(a.useState)([]),U=Object(l.a)(Q,2),V=U[0],$=U[1],ee=Object(a.useState)([0]),te=Object(l.a)(ee,2),ne=te[0],ae=te[1];Object(a.useEffect)((function(){for(var e=[],t=[],a=[],i=0;i<n;i++)e.push(i),i<Math.floor(n*p/100)?(t.push(!1),a.push(1)):(t.push(!0),a.push(0));Y(t),E(e),K(a)}),[n,p]),Object(a.useEffect)((function(){for(var e=0,t=0;t<n;t++)X[t]||e++;z(e),e===n&&(j.a.remove(".population"),R(!1))}),[X]),Object(a.useEffect)((function(){var e=setInterval((function(){var e=ne.slice(-1)[0];if(M){ae([].concat(Object(s.a)(ne),[e++])),$([].concat(Object(s.a)(V),[A]));for(var t=Object(s.a)(X),a=[],i=0;i<n;i++){var r=document.getElementById(i).getBoundingClientRect();if(a.push([r.top,r.left]),1===H[i]){var c=i;setTimeout((function(){var e=Object(s.a)(H);e[c]=2,K(e),Object(j.a)({targets:document.getElementById("infected".concat(c)),background:"#808080",duration:1e3,easing:"linear"})}),1e3)}}if(a.length>0){for(i=0;i<n;i++)for(var l=0;l<n&&l!=i;l++){if(X[i]!=X[l])if(Math.sqrt(Math.pow(a[i][0]-a[l][0],2)+Math.pow(a[i][1]-a[l][1],2))<35)if(Math.floor(100*Math.random())<I)if(X[i]){o=document.getElementById("healthy".concat(i));document.getElementById("ring".concat(i)).classList.add("ring"),document.getElementById("ring".concat(i)).classList.add(i),Object(j.a)({targets:o,background:"#FF0000",duration:1e3,easing:"linear"}),t[i]=!1,setTimeout((function(){Object(j.a)({targets:o,background:"#808080",duration:1e3,easing:"linear"});var e=Object(s.a)(H);e[i]=2,K(e)}),3e3)}else{var o=document.getElementById("healthy".concat(l));document.getElementById("ring".concat(l)).classList.add("ring"),document.getElementById("ring".concat(l)).classList.add(l),Object(j.a)({targets:o,background:"#FF0000",duration:1e3,easing:"linear"}),setTimeout((function(){Object(j.a)({targets:o,background:"#808080",duration:1e3,easing:"linear"}),Object(j.a)({targets:document.getElementsByClassName(l.toString()),scale:.01});var e=Object(s.a)(H);e[l]=2,K(e)}),3e3),t[l]=!1}}Y(t)}}}),500);return function(){return clearInterval(e)}}),[M,X]),Object(a.useEffect)((function(){var e=setInterval((function(){ne.slice(-1)[0]}),500);return function(){return clearInterval(e)}}),[M]);var ie={labels:ne,datasets:[{label:"# of infected cases",data:V,fill:{target:"origin",above:"rgb(255, 100, 132)"},backgroundColor:"#FF0000",borderColor:"rgba(255, 99, 132, 0.2)"}]},re=Object(h.jsx)(f.a,{data:ie,options:{tension:.3,animation:!1,scales:{xAxes:{ticks:{display:!1}},yAxes:{ticks:{beginAtZero:!0}}}}});function ce(){Object(j.a)({targets:".population",translateX:function(){return j.a.random(-75,75)},translateY:function(){return j.a.random(-75,75)},easing:"linear",complete:ce}),Object(j.a)({targets:".ring",scale:{value:[1,4],duration:5500},opacity:{value:[1,0],duration:1e3,easing:"linear"},loop:!0})}return Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:40,justifyContent:"flex-start",alignItems:"flex-start"},children:[Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(h.jsx)("div",{style:{display:"flex",justifyContent:"flex-start",marginBottom:10},children:Object(h.jsxs)("text",{style:{fontSize:20},children:["# Infected cases: ",A]})}),Object(h.jsx)("div",{class:"border",style:{border:"3px solid black",width:390,height:390,flexWrap:"wrap",flexDirection:"row",display:"flex",justifyContent:"flex-start",alignItems:"center",padding:80},children:D.map((function(e){return e<Math.floor(n*p/100)?function(e){return Object(h.jsxs)("div",{class:"population",id:e,style:{margin:10,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[Object(h.jsx)("img",{class:"ring",src:g,style:{width:9.5,height:9.5,position:"absolute"}}),Object(h.jsx)("div",{id:"infected".concat(e),style:{width:10,height:10,borderRadius:"50%",backgroundColor:"#FF0000"}})]})}(e):function(e){return Object(h.jsxs)("div",{class:"population",id:e,style:{margin:10,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[Object(h.jsx)("img",{id:"ring".concat(e),src:g,style:{width:9.5,height:9.5,position:"absolute"}}),Object(h.jsx)("div",{id:"healthy".concat(e),style:{width:10,height:10,borderRadius:"50%",backgroundColor:"#00FF00"}})]})}(e)}))}),Object(h.jsxs)("text",{style:{marginTop:10,fontSize:20},children:["R=",q]})]}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"column",margin:"10px 0 0 100px"},children:[Object(h.jsx)(o.a,{id:"range-slider",gutterBottom:!0,children:"Population"}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:400},children:Object(h.jsx)(d.a,{value:n,onChange:function(e,t){return i(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,max:169,disabled:M})}),Object(h.jsx)("div",{style:{marginLeft:10},children:Object(h.jsx)(b.a,{value:n,margin:"dense",onChange:function(e){return e.target.value?i(e.target.value):function(){}},onBlur:function(){n<0?i(0):n>100&&i(100)},inputProps:{step:1,min:0,max:169,type:"number","aria-labelledby":"input-slider"}})})]}),Object(h.jsx)(o.a,{id:"range-slider",gutterBottom:!0,children:"Infected proportion (%)"}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:400},children:Object(h.jsx)(d.a,{value:p,onChange:function(e,t){return O(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,max:100,disabled:M})}),Object(h.jsx)("div",{style:{marginLeft:10},children:Object(h.jsx)(b.a,{value:p,margin:"dense",onChange:function(e){return e.target.value?O(e.target.value):function(){}},inputProps:{step:1,min:0,max:100,type:"number","aria-labelledby":"input-slider"}})})]}),Object(h.jsx)(o.a,{id:"range-slider",gutterBottom:!0,children:"Contagious Radius (meters)"}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:400},children:Object(h.jsx)(d.a,{value:y,onChange:function(e,t){return v(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,step:.2,max:5,disabled:M})}),Object(h.jsx)("div",{style:{marginLeft:10},children:Object(h.jsx)(b.a,{value:y,margin:"dense",onChange:function(e){return e.target.value?v(e.target.value):function(){}},inputProps:{step:.1,min:0,max:5,type:"number","aria-labelledby":"input-slider"}})})]}),Object(h.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:400,height:75},children:[Object(h.jsx)("div",{style:{height:10,width:10,borderRadius:10,backgroundColor:"red"}}),Object(h.jsx)("img",{src:g,style:{height:20*y,width:20*y,position:"absolute"}})]}),Object(h.jsx)(o.a,{id:"range-slider",gutterBottom:!0,children:"Susceptible Rate (%)"}),Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{width:400},children:Object(h.jsx)(d.a,{value:I,onChange:function(e,t){return S(t)},valueLabelDisplay:"auto","aria-labelledby":"range-slider",min:0,max:100,disabled:M})}),Object(h.jsx)("div",{style:{marginLeft:10},children:Object(h.jsx)(b.a,{value:I,margin:"dense",onChange:function(e){return e.target.value?S(e.target.value):function(){}},inputProps:{step:1,min:0,max:100,type:"number","aria-labelledby":"input-slider"}})})]}),"Options:",Object(h.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(h.jsx)("div",{style:{margin:20},children:Object(h.jsx)(u.a,{variant:"contained",color:"primary",style:{width:100},onClick:function(){return function(){for(var e,t,a=n,i=Object(s.a)(D);0!==a;)t=Math.floor(Math.random()*a),e=i[a-=1],i[a]=i[t],i[t]=e;E(i)}()},disabled:M,children:"Shuffle"})}),Object(h.jsx)("div",{style:{margin:20},children:Object(h.jsx)(u.a,{variant:"contained",color:"primary",style:{width:100},onClick:function(){R(!0),ce()},disabled:M,children:"Start"})}),Object(h.jsx)("div",{style:{margin:20},children:Object(h.jsx)(u.a,{variant:"contained",color:"primary",style:{width:100},onClick:function(){j.a.remove(".population"),i(0),setTimeout((function(){i(52)}),100),$([]),ae([0])},children:"Reset"})})]})]})]}),Object(h.jsx)("div",{style:{padding:40,width:800},children:re})]})}f.b.plugins.tooltip.enabled=!0;var O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,228)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(p,{})}),document.getElementById("root")),O()},91:function(e,t,n){},92:function(e,t,n){}},[[204,1,2]]]);
//# sourceMappingURL=main.ca81879d.chunk.js.map